From 0054086c2818f447923a91a1be8343b367e0e4d6 Mon Sep 17 00:00:00 2001
From: zhongfly <11155705+zhongfly@users.noreply.github.com>
Date: Mon, 11 Sep 2023 07:41:48 +0800
Subject: [PATCH] Revert "ffmpeg: fix compile"

This reverts commit 3d06ae807a135d7c6cbe6b19a47e73951da0362a.
---
 packages/ffmpeg-0001-fix-compile.patch | 24 ------------------------
 packages/ffmpeg.cmake                  |  1 -
 2 files changed, 25 deletions(-)
 delete mode 100644 packages/ffmpeg-0001-fix-compile.patch

diff --git a/packages/ffmpeg-0001-fix-compile.patch b/packages/ffmpeg-0001-fix-compile.patch
deleted file mode 100644
index 80e0a0b..0000000
--- a/packages/ffmpeg-0001-fix-compile.patch
+++ /dev/null
@@ -1,24 +0,0 @@
-From 2b6aa6edf9d5504e7ad7eb5153ef0a8dd870b75b Mon Sep 17 00:00:00 2001
-From: shinchiro <shinchiro@users.noreply.github.com>
-Date: Sun, 10 Sep 2023 07:33:00 +0800
-Subject: [PATCH] fix compile
-
----
- libavformat/vapoursynth.c | 1 +
- 1 file changed, 1 insertion(+)
-
-diff --git a/libavformat/vapoursynth.c b/libavformat/vapoursynth.c
-index 1578a6ac7..965d36dc2 100644
---- a/libavformat/vapoursynth.c
-+++ b/libavformat/vapoursynth.c
-@@ -31,6 +31,7 @@
- #include "libavutil/avassert.h"
- #include "libavutil/avstring.h"
- #include "libavutil/eval.h"
-+#include "libavutil/frame.h"
- #include "libavutil/imgutils.h"
- #include "libavutil/opt.h"
- #include "libavutil/pixdesc.h"
--- 
-2.42.0
-
diff --git a/packages/ffmpeg.cmake b/packages/ffmpeg.cmake
index 9a67da4..aeada10 100644
--- a/packages/ffmpeg.cmake
+++ b/packages/ffmpeg.cmake
@@ -45,7 +45,6 @@ ExternalProject_Add(ffmpeg
     SOURCE_DIR ${SOURCE_LOCATION}
     GIT_CLONE_FLAGS "--filter=tree:0"
     UPDATE_COMMAND ""
-    PATCH_COMMAND ${EXEC} git apply ${CMAKE_CURRENT_SOURCE_DIR}/ffmpeg-*.patch
     CONFIGURE_COMMAND ${EXEC} <SOURCE_DIR>/configure
         --cross-prefix=${TARGET_ARCH}-
         --prefix=${MINGW_INSTALL_PREFIX}
-- 
2.41.0

